{"version":3,"sources":["firebase.js","components/SignUp.jsx","components/SignIn.jsx","components/CreateProfile.jsx","components/Header.jsx","providers/UserProvider.jsx","components/MainScreen.jsx","components/Matches.jsx","components/Messages.jsx","components/Message.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","firestore","createUserProfileDocument","user","additionalData","a","userRef","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","error","getUserDocument","collection","createMatch","user1","currUserPhotoUrl","likedUserPhotoUrl","likedUserName","currUserName","matchArr","matchRef","snapshot","likeRef","forEach","push","id","data","filtered","filter","m","map","length","exactMatch","exactMatchRef","update","matchStatus","add","userPhotoUrl","getMatchDoc","matchArr1","matchesRef","where","matchesRef1","empty","mergedMatchDoc","concat","getLikedCurrUserDoc","signInWithEmail","password","auth","signInWithEmailAndPassword","signOut","GoogleAuthProvider","SignUp","state","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","createUserWithEmailAndPassword","props","history","this","className","style","color","onSubmit","type","placeholder","backgroundColor","onChange","fontWeight","borderRadius","Component","withRouter","SignIn","then","res","catch","err","alert","to","CreateProfile","userType","age","gender","city","userPref","petFriendly","imageInput","file","ref","child","put","getDownloadURL","photoUrl","log","currentUser","files","src","alt","height","width","calendarAriaLabel","clearAriaLabel","dayAriaLabel","monthAriaLabel","nativeInputAriaLabel","date","yearAriaLabel","onClick","backgroundRepeat","border","cursor","overflow","outline","Header","UserContext","createContext","UserProvider","unsubscribeFromAuth","componentDidMount","onAuthStateChanged","userAuth","onSnapshot","componentWillUnmount","children","Provider","MainScreen","useState","setLastDirection","showModal","setModal","possibleMatches","setPossibleMatches","useContext","setUserPref","calculateAge","birthDay","toDate","toFixed","getUserList","users","userLiked","likeDoc","querySnapshot","tempDoc","likedUsersIds","Set","has","useEffect","updateUserPref","swiped","direction","matchedUser","userName","e","currentTarget","u","position","onSwipe","dir","onCardLeftScreen","backgroundImage","Matches","matchDoc","setMatchDoc","likedDoc","setLikedDoc","item","Messages","messageDoc","setMessageDoc","tempMsgArr","tempMsgArr1","matchedUserPhotoUrl","finalTmpArr","prototype","toTurkishFormatDate","format","day","getDate","weekDay","getDay","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","monthNames","Array","dayNames","replace","toString","padStart","indexOf","substr","match","params","messagesRef","query","useMemo","orderBy","limit","useCollectionData","idField","messages","formValue","setFormValue","sendMessage","text","senderId","senderPhotoUrl","senderDisplayName","docRef","msg","toLocaleTimeString","aria-describedby","Application","exact","path","component","Message","render","document","getElementById"],"mappings":"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","file":"static/js/main.be3b5f4e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyB7yV5HAxaf8oYiu5XR8_KpjI3WzeJ-Ei0\",\n  authDomain: \"tripper-d14cc.firebaseapp.com\",\n  projectId: \"tripper-d14cc\",\n  storageBucket: \"tripper-d14cc.appspot.com\",\n  messagingSenderId: \"834411846220\",\n  appId: \"1:834411846220:web:c072d9de9826eeab8a72e9\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const storage = firebase.storage();\n\nexport const firestore = firebase.firestore();\nexport const createUserProfileDocument = async (user, additionalData) => {\n  if (!user) return;\n  // get reference ..\n  const userRef = firestore.doc(`users/${user.uid}`);\n\n  // fetch userRef\n  const snapshot = await userRef.get();\n\n  if (!snapshot.exists) {\n    const { displayName, email } = user;\n    const createdAt = new Date();\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        createdAt,\n        ...additionalData,\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  return getUserDocument(user.uid);\n};\n\nexport const getUserDocument = async (uid) => {\n  if (!uid) return null;\n  try {\n    return firestore.collection(\"users\").doc(uid);\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const createMatch = async (\n  user,\n  user1,\n  currUserPhotoUrl,\n  likedUserPhotoUrl,\n  likedUserName,\n  currUserName\n) => {\n  const matchArr = [];\n  const matchRef = firestore.collection(\"matches\");\n  const snapshot = await matchRef.get();\n  const userRef = firestore.doc(`users/${user}`);\n  const likeRef = userRef.collection(\"userLiked\");\n  snapshot.forEach((doc) => {\n    matchArr.push({ id: doc.id, ...doc.data() });\n  });\n  const filtered = matchArr\n    .filter((m) => m.user1 === user && m.user === user1)\n    .map((m) => m.id);\n  try {\n    if (filtered.length > 0) {\n      const exactMatch = matchArr\n        .filter((m) => m.user1 === user && m.user === user1)\n        .map((m) => m.id);\n      const exactMatchRef = firestore.doc(`matches/${exactMatch[0]}`);\n      try {\n        exactMatchRef.update({\n          matchStatus: true,\n        });\n        await likeRef.add({\n          user1,\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    } else {\n      await matchRef.add({\n        user: user,\n        currUserName : currUserName,\n        userPhotoUrl: currUserPhotoUrl,\n        user1: user1,\n        likedUserName: likedUserName,\n        likedUserPhotoUrl: likedUserPhotoUrl,\n        matchStatus: false,\n      });\n      await likeRef.add({\n        user1,\n      });\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const getMatchDoc = async (user) => {\n  var matchArr = [];\n  var matchArr1= [];\n  const matchesRef = firestore\n    .collection(\"matches\")\n    .where(\"user\", \"==\", user)\n    .where(\"matchStatus\", \"==\", true);\n  var snapshot = await matchesRef.get();\n  snapshot.forEach((doc) => {\n    matchArr.push({ id: doc.id, data: doc.data() });\n  });\n  if (snapshot) {\n    const matchesRef1 = firestore\n      .collection(\"matches\")\n      .where(\"user1\", \"==\", user)\n      .where(\"matchStatus\", \"==\", true);\n    snapshot = await matchesRef1.get();\n    if(snapshot.empty){\n      return matchArr;\n    }\n    snapshot.forEach((doc) => {\n      matchArr1.push({ id: doc.id, data: doc.data() });\n    });\n    const mergedMatchDoc = matchArr.concat(matchArr1);\n    return mergedMatchDoc;\n  }\n};\n\nexport const getOneMatchDoc = async (id) =>{\n  const matchRef = firestore.collection(\"matches\").doc(id);\n  var snapshot = await matchRef.get();\n  return snapshot.data();\n}\nexport const firebaseTimeStamp = () => firebase.firestore.FieldValue.serverTimestamp();\n\nexport const getLikedCurrUserDoc = async (user) => {\n  const matchArr = [];\n  const matchesRef = firestore\n    .collection(\"matches\")\n    .where(\"user1\", \"==\", user)\n    .where(\"matchStatus\", \"==\", false);\n  var snapshot = await matchesRef.get();\n  if (snapshot.empty) {\n    return [];\n  }\n  snapshot.forEach((doc) => {\n    matchArr.push({ id: doc.id, data: doc.data() });\n  });\n  return matchArr;\n};\n\nexport const signInWithEmail = async (email, password) => {\n  try {\n    return auth.signInWithEmailAndPassword(email, password);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const auth = firebase.auth();\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const signOut = () => auth.signOut();\nexport default firebase;\n","import React, { Component } from 'react';\nimport \"../App.css\";\nimport { auth, createUserProfileDocument } from '../firebase';\nimport {withRouter} from \"react-router-dom\";\n\nclass SignUp extends Component {\n    state = { displayName: '', email: '', password: '' };\n    handleChange = event => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n      };\n      handleSubmit = async event => {\n        event.preventDefault();\n        const {email,password,displayName} = this.state;\n        try {\n          const {user} = await auth.createUserWithEmailAndPassword(\n            email,\n            password,\n          );\n          createUserProfileDocument(user, {displayName});\n        } catch(error){\n          console.error(error);\n        }\n        this.setState({ displayName: '', email: '', password: '' });\n        this.props.history.push(\"/createProfile\");\n      };\n    render() {\n        const {email, password } = this.state;\n        return (\n            <div className=\"container\">\n                <h1 className=\"text-center\" style={{ color: \"#54799B\" }}>Kayıt Ol</h1>\n                <div className=\"row justify-content-center mt-5\">\n                    <form className=\"form-horizontal\" onSubmit={this.handleSubmit}>\n                        <h2 className=\"text-center display-4\" style={{ color: \"#F0FDFF\" }}><u>Tripper</u></h2>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <input type=\"text\"\n                                    id=\"email\"\n                                    name=\"email\"\n                                    placeholder=\"Email\"\n                                    className=\"form-control\"\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\" }}\n                                    value={email}\n                                    onChange={this.handleChange}\n                                    />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <input\n                                    type=\"password\"\n                                    id=\"password\"\n                                    name=\"password\"\n                                    placeholder=\"Şifre\"\n                                    className=\"form-control\"\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\" }}\n                                    value={password}\n                                    onChange={this.handleChange}\n                                    />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <button\n                                    type=\"submit\"\n                                    className=\"btn-lg btn-block register-btn\"\n                                    style={{ color: \"#415661\", backgroundColor: \"#C4C4C4\", fontWeight: \"bold\", borderRadius: \"30%\" }}>Üye ol</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(SignUp);","import React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signInWithEmail } from '../firebase';\nclass SignIn extends Component {\n    state = { email: \"\", password: \"\"}\n\n    handleChange = event => {\n        const { name, value } = event.target;\n\n        this.setState({ [name]: value });\n    };\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const { email, password } = this.state;\n        signInWithEmail(email, password).then((res) =>{\n            this.props.history.push('/mainPage');\n        }).catch(err => alert(\"Kullanıcı adı veya şifreniz yanlış\"));\n        this.setState({ email: '', password: '' });\n    };\n    render() {\n        const { email, password } = this.state;\n        return (\n            <div className=\"container\">\n                <Link to=\"/\"><h1 className=\"text-center\">Hoşgeldiniz</h1></Link>\n                <div className=\"row justify-content-center mt-5\">\n                    <form className=\"form-horizontal\" onSubmit={this.handleSubmit}>\n                        <h2 className=\"text-center display-4\" style={{ color: \"#F0FDFF\" }}><u>Tripper</u></h2>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <input\n                                    type=\"text\"\n                                    id=\"email\"\n                                    name=\"email\"\n                                    placeholder=\"Email\"\n                                    className=\"form-control\"\n                                    value={email}\n                                    onChange={this.handleChange}\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\" }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <input\n                                    type=\"password\"\n                                    id=\"password\"\n                                    name=\"password\"\n                                    placeholder=\"Şifre\"\n                                    className=\"form-control\"\n                                    value={password}\n                                    onChange={this.handleChange}\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\" }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-sm-9\">\n                                <button type=\"submit\" className=\"btn-lg btn-block \" style={{ color: \"#415661\", backgroundColor: \"#C4C4C4\", fontWeight: \"bold\", borderRadius: \"30%\" }}>Giriş yap</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n                <Link to=\"/signUp\"><h5 className=\"text-center\" style={{ color: \"#F0FDFF\" }}>Yeni misiniz ? Üye ol</h5></Link>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(SignIn);","import React, { Component } from 'react';\nimport { auth, firestore, storage} from '../firebase';\nimport DatePicker from 'react-date-picker';\nimport {withRouter} from \"react-router-dom\";\n\n\n\nclass CreateProfile extends Component {\n    state = { displayName: \"\", userType: \"\", age: new Date(), gender: \"\" ,city:\"\",userPref:{gender:\"\",petFriendly:\"\"}};\n    imageInput = null;\n\n    get uid() {\n        return auth.currentUser.uid;\n    }\n\n    get userRef() {\n        return firestore.doc(`users/${this.uid}`);\n    }\n\n    get file() {\n        return this.imageInput && this.imageInput.files[0];\n    }\n\n    handleChange = event => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n    }\n    handleSubmit = async event => {\n        event.preventDefault();\n        const { displayName,userType,age,gender,city,userPref } = this.state;\n\n        if (displayName && userType && age && gender && city) {\n            this.userRef.update({ displayName,userType,age,gender,city,userPref});\n        }\n\n        if (this.file) {\n            storage\n                .ref()\n                .child(\"user-profiles\")\n                .child(this.uid)\n                .child(this.file.name)\n                .put(this.file)\n                .then(res => res.ref.getDownloadURL())\n                .then(photoUrl => this.userRef.update({ photoUrl }));\n            console.log(this.file);\n        }\n\n        this.setState({displayName:\"\",userType:\"\",age:\"\",gender:\"\",city:\"\"});\n        this.props.history.push(\"/mainPage\");\n\n    }\n    render() {\n\n        const { displayName, age, city} = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"text-center\" style={{ color: \"#54799B\" }}>Profil Oluştur</h2>\n                <div className=\"col-xs-12\">\n                    <img src=\"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/pp.png?alt=media&token=4eafa993-6c58-4815-b680-32e59252e7fd\"\n                        className=\"rounded mx-auto d-block rounded-circle\"\n                        alt=\"Custom\"\n                        height=\"200\"\n                        width=\"200\"\n                    />\n                    <div className=\"row justify-content-center mt-2 ml-5\">\n                        <form onSubmit={this.handleSubmit}>\n                            <div className=\"col-xs-3 form-group\">\n                                <input\n                                    type=\"file\"\n                                    ref={ref => this.imageInput = ref}\n                                />\n                            </div>\n                            <div className=\"col-xs-3 mt-2 form-group\">\n                                <input\n                                    placeholder=\"İsim\"\n                                    value={displayName}\n                                    name=\"displayName\"\n                                    onChange={this.handleChange}\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\", fontWeight: \"bold\" }}\n                                />\n                            </div>\n                            <div className=\"col-xs-3 mt-2 form-group\">\n                                <input\n                                    placeholder=\"Şehir\"\n                                    value={city}\n                                    name=\"city\"\n                                    onChange={this.handleChange}\n                                    style={{ color: \"#F0FDFF\", backgroundColor: \"#415661\", fontWeight: \"bold\" }}\n                                />\n                            </div>\n                            <div className=\"col-xs-3 mt-2 form-group\">\n                                <DatePicker\n                                    name=\"age\"\n                                    calendarAriaLabel=\"Toggle calendar\"\n                                    clearAriaLabel=\"Clear value\"\n                                    dayAriaLabel=\"Day\"\n                                    monthAriaLabel=\"Month\"\n                                    nativeInputAriaLabel=\"Date\"\n                                    onChange={date => this.handleChange({ target: { value: date, name: 'age' } })}\n                                    value={age}\n                                    yearAriaLabel=\"Year\"\n                                />\n                            </div>\n                            <div className=\"col-xs-3 mt-2 form-group\">\n                                <h3>Cinsiyetiniz</h3>\n                                <div className=\"col-xs-3\">\n                                    <div className=\"d-flex\">\n                                        <button\n                                            name=\"gender\"\n                                            value=\"female\"\n                                            onClick={this.handleChange}\n                                            type=\"button\"\n                                            style={{ backgroundColor: \"transparent\", backgroundRepeat: \"none\", border: \"none\", cursor: \"pointer\", overflow: \"hidden\", outline: \"none\" }}\n                                        >\n                                            <img\n                                                value=\"female\"\n                                                width=\"50\"\n                                                height=\"50\"\n                                                alt=\"female\"\n                                                src=\"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/female.png?alt=media&token=7e89af78-9ddc-4695-9d47-cc4f3171391e\" />\n                                        Kadın\n                                        </button>\n                                        <button\n                                            name=\"gender\"\n                                            value=\"male\"\n                                            onClick={this.handleChange}\n                                            type=\"button\"\n                                            style={{ backgroundColor: \"transparent\", backgroundRepeat: \"none\", border: \"none\", cursor: \"pointer\", overflow: \"hidden\", outline: \"none\" }}\n                                        >\n                                            <img\n                                                value=\"male\"\n                                                className=\"ml-5\"\n                                                width=\"50\"\n                                                height=\"50\"\n                                                alt=\"male\"\n                                                src=\"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/male.png?alt=media&token=06d58198-dd53-4dc3-a68d-c8cd8e36498a\" />\n                                        Erkek\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-xs-3 mt-2 form-group\">\n                                <h3>Üye türünüz</h3>\n                                <div className=\"col-xs-3\">\n                                    <div className=\"d-flex\">\n                                        <button\n                                            name=\"userType\"\n                                            value=\"traveler\"\n                                            onClick={this.handleChange}\n                                            type=\"button\"\n                                            style={{ backgroundColor: \"transparent\", backgroundRepeat: \"none\", border: \"none\", cursor: \"pointer\", overflow: \"hidden\", outline: \"none\" }}\n                                        >\n                                            <img\n                                                width=\"50\"\n                                                height=\"50\"\n                                                alt=\"traveler\"\n                                                src=\"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/traveler.png?alt=media&token=d87568e9-1afd-44c9-8e3d-7fd1c60c6039\" />\n                                        Gezgin\n                                        </button>\n                                        <button\n                                            name=\"userType\"\n                                            value=\"host\"\n                                            onClick={this.handleChange}\n                                            type=\"button\"\n                                            style={{ backgroundColor: \"transparent\", backgroundRepeat: \"none\", border: \"none\", cursor: \"pointer\", overflow: \"hidden\", outline: \"none\" }}\n                                        >\n                                            <img\n                                                className=\"ml-5\"\n                                                width=\"50\"\n                                                height=\"50\"\n                                                alt=\"host\"\n                                                src=\"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/host.png?alt=media&token=9009ceb9-7634-4496-bede-b74e70bd48ea\" />\n                                        Ev sahibi\n                                        </button>\n                                    </div>\n                                </div>\n                                <button\n                                    type=\"submit\"\n                                    className=\"btn-lg btn-block\"\n                                    style={{ color: \"#415661\", backgroundColor: \"#C4C4C4\", fontWeight: \"bold\", borderRadius: \"20%\" }}>Profil Oluştur</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(CreateProfile);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nconst Header = ({signOut}) => (\n    <header>\n            <div className=\"row justify-content-center \">\n                <h2>Tripper</h2>\n                <Link to=\"/\" onClick={signOut} className=\"mt-2 ml-5\"><i className=\"fas fa-2x fa-sign-out-alt\"></i></Link>\n            </div>\n            <div className=\" justify-content-center\">\n                <nav className=\"d-flex justify-content-between\">\n                    <Link to=\"/mainPage\"><i className=\"fas fa-search fa-2x\"></i></Link>\n                    <Link to=\"/matches\"><i className=\"fas fa-user-friends fa-2x\"></i></Link>\n                    <Link to=\"/messages\" ><i className=\"fas fa-envelope fa-2x\"></i></Link>\n                </nav>\n            </div>\n    </header>\n);\n\n\nexport default Header;","import React , {Component , createContext} from \"react\";\nimport {auth,createUserProfileDocument} from \"../firebase\";\n\n\nexport const UserContext = createContext({user:null});\n\nclass UserProvider extends Component{\n    state = {\n        user:null\n      };\n      unsubscribeFromAuth = null;\n      componentDidMount = async () => {\n        this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n          if(userAuth){\n            const userRef = await createUserProfileDocument(userAuth);\n            userRef.onSnapshot(snapshot =>{\n              this.setState({user:{uid: snapshot.id , ...snapshot.data()}})\n            });\n          }\n          this.setState({user: userAuth});\n        });\n      }\n      componentWillUnmount = () => {\n        this.unsubscribeFromAuth();\n      };\n      render(){\n          const {user} = this.state;\n          const {children} = this.props;\n\n          return(\n            <UserContext.Provider value={user}>{children}</UserContext.Provider>\n          )\n      }\n}\n\nexport default UserProvider;","import React, { useContext, useEffect, useState } from 'react';\nimport { signOut } from '../firebase';\nimport TinderCard from 'react-tinder-card';\nimport Header from '../components/Header';\nimport '../Main.css';\nimport { UserContext } from '../providers/UserProvider';\nimport firebase from 'firebase';\nimport { firestore, createMatch } from '../firebase';\n\n\nfunction MainScreen(props) {\n    const [lastDirection, setLastDirection] = useState();\n    const [showModal, setModal] = useState(false);\n    const [possibleMatches, setPossibleMatches] = useState([]);\n    const user = useContext(UserContext);\n    const [userPref, setUserPref] = useState({\n        gender: \"\",\n        petFriendly: \"\"\n    });\n    const calculateAge = (user) => {\n        const birthDay = user.age.toDate();\n        var today = new Date();\n        var difference = (today - birthDay) / (1000 * 60 * 60 * 24 * 365);\n        return difference.toFixed(0);\n    }\n    const getUserList = async () => {\n        if (!user) return;\n        const users = await firebase.firestore().collection('users');\n        const userLiked = users.doc(user.uid).collection(\"userLiked\");\n        const likeDoc = [];\n        userLiked.get().then((snapshot) => {\n            snapshot.forEach((doc) => {\n                likeDoc.push({ ...doc.data() });\n            })\n        });\n        users.get().then((querySnapshot) => {\n            const tempDoc = [];\n            querySnapshot.forEach((doc) => {\n                tempDoc.push({ id: doc.id, ...doc.data() })\n            })\n            const likedUsersIds = new Set(likeDoc.map(m => m.user1));\n            const filtered = tempDoc.filter(m => !likedUsersIds.has(m.id));\n            setPossibleMatches(filtered || []);\n        })\n    }\n    useEffect(() => {\n        getUserList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [user]);\n    const updateUserPref = async (event) => {\n        event.preventDefault();\n        if(userPref.gender !== \"empty\" && userPref.petFriendly !== \"empty\"){\n            const userRef = firestore.doc(`users/${user.uid}`);\n            userRef.update({\n                userPref: {\n                    gender: userPref.gender,\n                    petFriendly: userPref.petFriendly\n                }\n            });\n            setUserPref({ gender: \"\", petFriendly: \"\" });\n        }else{\n            alert(\"Lütfen bir tercih yapınız.\");\n        }\n    }\n    const swiped = (direction, matchedUser, likedUserPhotoUrl , userName) => {\n        if (direction === \"right\") {\n            createMatch(user.uid, \n                matchedUser, \n                user.photoUrl, \n                likedUserPhotoUrl , \n                userName , \n                user.displayName);\n        }\n        setLastDirection(direction);\n    }\n    const outOfFrame = (name) => {\n        console.log(name + ' left the screen!')\n    }\n    return (\n        <>\n            <Header signOut={signOut} />\n            {!possibleMatches.length ? <h1>LOADING</h1> : showModal ?\n                (\n                    <div>\n                        <h1>Eşleşme tercihinizi ayarlayın.</h1>\n                        <div className=\"form-group\">\n                            <form onSubmit={e => updateUserPref(e)}>\n                                <label>Cinsiyet tercihi :</label>\n                                <select\n                                    className=\"form-select\"\n                                    onChange={(e) => setUserPref({ ...userPref, gender: e.currentTarget.value })}>\n                                    <option value=\"empty\"> </option>           \n                                    <option value=\"male\">Erkek</option>\n                                    <option value=\"female\">Kadın</option> \n                                </select>\n                                <label>Evcil Hayvan Dostu :</label>\n                                <select\n                                    className=\"form-select\"\n                                    onChange={(e) => setUserPref({ ...userPref, petFriendly: e.currentTarget.value })}>\n                                    <option value=\"empty\"> </option>    \n                                    <option value=\"yes\">Evet</option>\n                                    <option value=\"no\">Hayır</option>\n                                </select>\n\n                                <button type=\"submit\">Ayarla</button>\n                            </form>\n                        </div>\n                    </div>\n                ) :\n                <div className=\"cardContainer justify-content-center\" >\n                    {\n                    // eslint-disable-next-line array-callback-return    \n                    possibleMatches.filter(u => {\n                        if (user.city === u.city &&\n                            user.userType !== u.userType &&\n                            user.userPref.gender === u.gender &&\n                            user.userPref.petFriendly === u.userPref.petFriendly) {\n                            return u;\n                        }\n                    }).map((user) =>\n                        <TinderCard style={{ position: \"absolute\" }} className='swipe'\n                            key={user.id}\n                            onSwipe={(dir) => swiped(dir, user.id, user.photoUrl , user.displayName)}\n                            onCardLeftScreen={() => outOfFrame(user.displayName)}>\n                            <div className='card' style={{ backgroundImage: 'url(' + user.photoUrl + ')' }}>\n                                <div className=\"card-block-1\">\n                                    {user.gender === \"male\" ? <i className=\"fas fa-mars fa-2x\"></i> : <i className=\"fas fa-venus fa-2x\"></i>}\n                                    <h3>{user.displayName},{calculateAge(user)}</h3>\n                                </div>\n                                <div className=\"card-block-2\">\n                                    <i className=\"fas fa-map-marker-alt fa-2x\"></i>\n                                    <h3>{user.city}</h3>\n                                </div>\n                            </div>\n                        </TinderCard>\n                    )}\n                </div>\n            }\n            <button onClick={() => setModal(!showModal)} className=\"btn btn-danger btn-sm\">Eşleşme Seçenekleri</button>\n        </>\n    );\n}\n\nexport default MainScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport Header from './Header';\nimport { signOut, getMatchDoc, getLikedCurrUserDoc } from '../firebase';\nimport { UserContext } from \"../providers/UserProvider\";\n\nfunction Matches(props) {\n    const user = useContext(UserContext);\n    const [matchDoc, setMatchDoc] = useState([]);\n    const [likedDoc, setLikedDoc] = useState([]);\n    useEffect(() => {\n        getMatchDoc(user.uid)\n            .then(data => setMatchDoc(data));\n\n        getLikedCurrUserDoc(user.uid)\n            .then(data => setLikedDoc(data));\n    }, [user.uid]);\n\n    return (\n        <>\n            <Header signOut={signOut} />\n            <div className=\"container\">\n                <div className=\"row\">\n                    <h2>Eşleşmelerim</h2>\n                    <div className=\"col-md-12 text-left d-flex justify-content-between flex-wrap\">\n                        {\n                            matchDoc.map(item => {\n                                return item.data.user === user.uid ?\n                                    <img key={item.id} className=\"profile-img-card\" src={item.data.likedUserPhotoUrl} \n                                    style={{ width: \"105px\" }} \n                                    alt=\"match img\" />\n                                    :\n                                    <img key={item.id} className=\"profile-img-card\" src={item.data.userPhotoUrl} \n                                    style={{ width: \"105px\" }} \n                                    alt=\"match img\" />\n                            }\n                            )\n                        }\n                    </div>\n                    <h2>Bekleyen eşleşmeler</h2>\n                    <div className=\"col-md-12 text-left d-flex justify-content-between flex-wrap\">\n                    {\n                            likedDoc.map(item => {\n                                    return <img key={item.id} className=\"profile-img-card\" src={item.data.userPhotoUrl} \n                                    style={{ width: \"105px\" }} \n                                    alt=\"match img\" />\n                            }\n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Matches;","import React, { useState, useContext, useEffect } from 'react';\nimport { UserContext } from \"../providers/UserProvider\";\nimport { getMatchDoc, signOut } from '../firebase';\nimport Header from './Header';\nimport { Link } from 'react-router-dom';\nfunction Messages(props) {\n    const user = useContext(UserContext);\n    const [messageDoc, setMessageDoc] = useState([]);\n    const tempMsgArr = [];\n    const tempMsgArr1= [];\n    useEffect(() => {\n        getMatchDoc(user.uid)\n            .then(data => {          \n                data.forEach(item => {\n                    item.data.user === user.uid ? tempMsgArr.push(\n                        {\n                            id: item.id,\n                            matchedUser: item.data.user1,\n                            matchedUserPhotoUrl: item.data.likedUserPhotoUrl,\n                            likedUserName: item.data.likedUserName\n                        })\n                        :\n                        tempMsgArr1.push(\n                            {\n                                id: item.id,\n                                matchedUser: item.data.user,\n                                matchedUserPhotoUrl: item.data.userPhotoUrl,\n                                likedUserName: item.data.currUserName\n                            },\n                        )\n                    return; \n                })\n                const finalTmpArr = [...tempMsgArr,...tempMsgArr1];\n                setMessageDoc(finalTmpArr);\n            });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [user.uid]);\n    return (\n        <>\n            <Header signOut={signOut} />\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-12 pt-5 d-flex\">\n                        {\n                            messageDoc.map(item => {\n                                return <Link key={item.id} to={`messages/${item.id}`} >\n                                    <div key={item.id} className=\"list-group-item-action border-0\">\n                                        <div key={item.id} className=\"d-flex align-items-start\">\n                                            <img src={item.matchedUserPhotoUrl}\n                                                className=\"rounded-circle img-fluid\" alt={item.likedUserName} width=\"100\" height=\"120\" />\n                                            <div className=\"chat-details\">\n                                                <h4 style={{ color: 'black' }}>{item.likedUserName}</h4>\n                                                <div className=\"medium ml-3\">Chat ekranı acık!</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Messages;","import React, { useContext, useState, useMemo } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { firestore, signOut, firebaseTimeStamp } from '../firebase';\nimport Header from './Header';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { UserContext } from '../providers/UserProvider';\n// eslint-disable-next-line no-extend-native\nDate.prototype.toTurkishFormatDate = function (format) {\n    var date = this,\n        day = date.getDate(),\n        weekDay = date.getDay(),\n        month = date.getMonth(),\n        year = date.getFullYear(),\n        hours = date.getHours(),\n        minutes = date.getMinutes(),\n        seconds = date.getSeconds();\n\n    // eslint-disable-next-line no-array-constructor\n    var monthNames = new Array(\"Ocak\", \"Şubat\", \"Mart\", \"Nisan\", \"Mayıs\", \"Haziran\", \"Temmuz\", \"Ağustos\", \"Eylül\", \"Ekim\", \"Kasım\", \"Aralık\");\n    // eslint-disable-next-line no-array-constructor\n    var dayNames = new Array(\"Pazar\", \"Pazartesi\", \"Salı\", \"Çarşamba\", \"Perşembe\", \"Cuma\", \"Cumartesi\");\n\n    if (!format) {\n        format = \"dd.MM.yyyy\";\n    }\n\n\n    format = format.replace(\"mm\", month.toString().padStart(2, \"0\"));\n\n    format = format.replace(\"MM\", monthNames[month]);\n\n    if (format.indexOf(\"yyyy\") > -1) {\n        format = format.replace(\"yyyy\", year.toString());\n    } else if (format.indexOf(\"yy\") > -1) {\n        format = format.replace(\"yy\", year.toString().substr(2, 2));\n    }\n\n    format = format.replace(\"dd\", day.toString().padStart(2, \"0\"));\n\n    format = format.replace(\"DD\", dayNames[weekDay]);\n\n    if (format.indexOf(\"HH\") > -1) {\n        format = format.replace(\"HH\", hours.toString().replace(/^(\\d)$/, '0$1'));\n    }\n\n    if (format.indexOf(\"hh\") > -1) {\n        if (hours > 12) {\n            hours -= 12;\n        }\n\n        if (hours === 0) {\n            hours = 12;\n        }\n        format = format.replace(\"hh\", hours.toString().replace(/^(\\d)$/, '0$1'));\n    }\n\n    if (format.indexOf(\"ii\") > -1) {\n        format = format.replace(\"ii\", minutes.toString().replace(/^(\\d)$/, '0$1'));\n    }\n\n    if (format.indexOf(\"ss\") > -1) {\n        format = format.replace(\"ss\", seconds.toString().replace(/^(\\d)$/, '0$1'));\n    }\n\n    return format;\n};\nfunction Message(props) {\n    const id = props.match.params.id;\n    const user = useContext(UserContext);\n    const messagesRef = firestore.collection(\"matches\").doc(id).collection(\"messages\");\n    const query = useMemo(() => {\n        const messagesRef = firestore.collection(\"matches\").doc(id).collection(\"messages\");\n        const query = messagesRef.orderBy('createdAt').limit(25);\n        return query;\n    }, [id]);\n    const [messages] = useCollectionData(query, { idField: 'id' });\n    const [formValue, setFormValue] = useState('');\n    const sendMessage = async (e) => {\n        e.preventDefault();\n        const { uid, photoUrl, displayName } = user;\n        messagesRef.add({\n            text: formValue,\n            createdAt: new Date(),\n            senderId: uid,\n            senderPhotoUrl: photoUrl,\n            senderDisplayName: displayName\n        }).then(function (docRef) {\n            console.log(\"Document written with ID: \", docRef.id);\n        })\n            .catch(function (error) {\n                console.error(\"Error adding document: \", error);\n            });\n        setFormValue('');\n    }\n    console.log(messages);\n\n    return (\n        <>\n            <Header signOut={signOut} />\n            <div className=\"container py-5 px-4\">\n                <div className=\"row rounded-lg overflow-hidden shadow\">\n                    <div className=\"col-12 px-0\">\n                        <div className=\"px-4 py-5 chat-box bg-white\">\n                            <div className=\"col-12\">\n                                {messages && messages.map(msg => {\n                                    if (msg.senderId !== user.uid) {\n                                        return <div key={msg.id} className=\"media w-50 mb-1\">\n                                            <img\n                                                src={msg.senderPhotoUrl}\n                                                alt={msg.senderDisplayName}\n                                                width=\"70\"\n                                                height=\"70\"\n                                                className=\"rounded-circle\" />\n                                            <div className=\"media-body ml-3\">\n                                                <div className=\"bg-light rounded py-2 px-3 mb-2\">\n                                                    <h5 style={{ color: \"black\" }}>{msg.senderDisplayName}</h5>\n                                                    <p key={msg.id}\n                                                        className=\"text-small mb-0 text-muted\">{msg.text}</p>\n                                                </div>\n                                                <p className=\"small text-muted\">\n                                                    {\n                                                        msg.createdAt.toDate().toTurkishFormatDate(\"dd MM yyyy\")\n                                                    }\n                                                    <span>&nbsp;&nbsp;</span>\n                                                    {\n                                                        msg.createdAt.toDate().toLocaleTimeString(\"tr-TR\")\n                                                    }\n                                                </p>\n                                            </div>\n                                        </div>\n                                    } else {\n                                        return <div key={msg.id} className=\"col-8\">\n                                            <div className=\"media w-500 ml-auto mb-3\">\n                                                <div className=\"media-body\">\n                                                    <div className=\"bg-primary rounded py-2 px-3 mb-2\">\n                                                        <h5>{msg.senderDisplayName}</h5>\n                                                        <p key={msg.id} className=\"text-small mb-0 text-white\">{msg.text}</p>\n                                                    </div>\n                                                    <p className=\"small text-muted\">\n                                                        {\n                                                            msg.createdAt.toDate().toTurkishFormatDate(\"dd MM yyyy\")\n                                                        }\n                                                        <span>&nbsp;&nbsp;</span>\n                                                        {\n                                                            msg.createdAt.toDate().toLocaleTimeString(\"tr-TR\")\n                                                        }\n                                                    </p>\n                                                </div>\n                                            </div>\n                                        </div>;\n                                    }\n                                })\n                                }\n                            </div>\n                        </div>\n                        <form onSubmit={sendMessage} className=\"bg-light\">\n                            <div className=\"input-group\">\n                                <input\n                                    value={formValue}\n                                    onChange={(e) => setFormValue(e.target.value)}\n                                    type=\"text\"\n                                    placeholder=\"Type a message\"\n                                    aria-describedby=\"button-addon2\"\n                                    className=\"form-control rounded-0 border-0 py-4 bg-light\" />\n                                <div className=\"input-group-append\">\n                                    <button id=\"button-addon2\"\n                                        type=\"submit\"\n                                        className=\"btn btn-link\">\n                                        <i className=\"fa fa-paper-plane\">\n                                        </i>\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default withRouter(Message);","import React, { Component } from 'react';\nimport SignUp from './components/SignUp';\nimport SignIn from './components/SignIn';\nimport \"./App.css\";\nimport { Switch , Route} from \"react-router-dom\";\nimport CreateProfile from './components/CreateProfile';\nimport MainScreen from './components/MainScreen';\nimport Matches from './components/Matches';\nimport Messages from './components/Messages';\nimport Message from './components/Message';\n\nclass Application extends Component {\n  render() {\n\n    return (\n      <main className=\"container\">\n        <Switch>\n          <Route exact path=\"/\" component={SignIn} />\n          <Route exact path=\"/signUp\" component={SignUp} />\n          <Route exact path=\"/createProfile\" component={CreateProfile} />\n          <Route exact path=\"/mainPage\" component={MainScreen} />\n          <Route exact path=\"/matches\" component={Matches} />\n          <Route exact path=\"/messages\" component={Messages} />\n          <Route exact path=\"/messages/:id\" component={Message} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default Application;","import React from \"react\";\nimport { render } from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport UserProvider from \"./providers/UserProvider\";\n\nrender(\n  <UserProvider>\n    <Router>\n      <App />\n    </Router>\n  </UserProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}