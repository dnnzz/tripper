(this.webpackJsonptripper=this.webpackJsonptripper||[]).push([[0],{41:function(e,t,a){},57:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(34),c=(a(57),a(21)),s=a(22),i=a(24),o=a(23),l=a(7),d=a.n(l),u=a(12),h=a(25),j=(a(41),a(19)),m=a(27);a(59),a(60),a(61);m.a.initializeApp({apiKey:"AIzaSyB7yV5HAxaf8oYiu5XR8_KpjI3WzeJ-Ei0",authDomain:"tripper-d14cc.firebaseapp.com",projectId:"tripper-d14cc",storageBucket:"tripper-d14cc.appspot.com",messagingSenderId:"834411846220",appId:"1:834411846220:web:c072d9de9826eeab8a72e9"});var p=m.a.storage(),b=m.a.firestore(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var r,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=b.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return n=t.displayName,c=t.email,s=new Date,e.prev=9,e.next=12,r.set(Object(j.a)({displayName:n,email:c,createdAt:s},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0);case 17:return e.abrupt("return",x(t.uid));case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.abrupt("return",b.collection("users").doc(t));case 6:e.prev=6,e.t0=e.catch(2),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(d.a.mark((function e(t,a,r,n,c,s){var i,o,l,u,h,m,p,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],o=b.collection("matches"),e.next=4,o.get();case 4:if(l=e.sent,u=b.doc("users/".concat(t)),h=u.collection("userLiked"),l.forEach((function(e){i.push(Object(j.a)({id:e.id},e.data()))})),m=i.filter((function(e){return e.user1===t&&e.user===a})).map((function(e){return e.id})),e.prev=9,!(m.length>0)){e.next=24;break}return p=i.filter((function(e){return e.user1===t&&e.user===a})).map((function(e){return e.id})),f=b.doc("matches/".concat(p[0])),e.prev=13,f.update({matchStatus:!0}),e.next=17,h.add({user1:a});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error(e.t0);case 22:e.next=28;break;case 24:return e.next=26,o.add({user:t,currUserName:s,userPhotoUrl:r,user1:a,likedUserName:c,likedUserPhotoUrl:n,matchStatus:!1});case 26:return e.next=28,h.add({user1:a});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(9),console.error(e.t1);case 33:case"end":return e.stop()}}),e,null,[[9,30],[13,19]])})));return function(t,a,r,n,c,s){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,r,n,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=[],n=b.collection("matches").where("user","==",t).where("matchStatus","==",!0),e.next=5,n.get();case 5:if((c=e.sent).forEach((function(e){a.push({id:e.id,data:e.data()})})),!c){e.next=17;break}return s=b.collection("matches").where("user1","==",t).where("matchStatus","==",!0),e.next=11,s.get();case 11:if(!(c=e.sent).empty){e.next=14;break}return e.abrupt("return",a);case 14:return c.forEach((function(e){r.push({id:e.id,data:e.data()})})),i=a.concat(r),e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=b.collection("matches").where("user1","==",t).where("matchStatus","==",!1),e.next=4,r.get();case 4:if(!(n=e.sent).empty){e.next=7;break}return e.abrupt("return",[]);case 7:return n.forEach((function(e){a.push({id:e.id,data:e.data()})})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",N.signInWithEmailAndPassword(t,a));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,a){return e.apply(this,arguments)}}(),N=m.a.auth(),k=(new m.a.auth.GoogleAuthProvider,function(){return N.signOut()}),w=(m.a,a(11)),C=a(2),F=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={displayName:"",email:"",password:""},e.handleChange=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(h.a)({},r,n))},e.handleSubmit=function(){var t=Object(u.a)(d.a.mark((function t(a){var r,n,c,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state,n=r.email,c=r.password,s=r.displayName,t.prev=2,t.next=5,N.createUserWithEmailAndPassword(n,c);case 5:i=t.sent,o=i.user,f(o,{displayName:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:e.setState({displayName:"",email:"",password:""}),e.props.history.push("/createProfile");case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h1",{className:"text-center",style:{color:"#54799B"},children:"Kay\u0131t Ol"}),Object(C.jsx)("div",{className:"row justify-content-center mt-5",children:Object(C.jsxs)("form",{className:"form-horizontal",onSubmit:this.handleSubmit,children:[Object(C.jsx)("h2",{className:"text-center display-4",style:{color:"#F0FDFF"},children:Object(C.jsx)("u",{children:"Tripper"})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Email",className:"form-control",style:{color:"#F0FDFF",backgroundColor:"#415661"},value:t,onChange:this.handleChange})})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"\u015eifre",className:"form-control",style:{color:"#F0FDFF",backgroundColor:"#415661"},value:a,onChange:this.handleChange})})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("button",{type:"submit",className:"btn-lg btn-block register-btn",style:{color:"#415661",backgroundColor:"#C4C4C4",fontWeight:"bold",borderRadius:"30%"},children:"\xdcye ol"})})})]})})]})}}]),a}(r.Component),S=Object(w.f)(F),D=a(15),U=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(h.a)({},r,n))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,r=a.email,n=a.password;y(r,n).then((function(t){e.props.history.push("/mainPage")})).catch((function(e){return alert("Kullan\u0131c\u0131 ad\u0131 veya \u015fifreniz yanl\u0131\u015f")})),e.setState({email:"",password:""})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(D.b,{to:"/",children:Object(C.jsx)("h1",{className:"text-center",children:"Ho\u015fgeldiniz"})}),Object(C.jsx)("div",{className:"row justify-content-center mt-5",children:Object(C.jsxs)("form",{className:"form-horizontal",onSubmit:this.handleSubmit,children:[Object(C.jsx)("h2",{className:"text-center display-4",style:{color:"#F0FDFF"},children:Object(C.jsx)("u",{children:"Tripper"})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Email",className:"form-control",value:t,onChange:this.handleChange,style:{color:"#F0FDFF",backgroundColor:"#415661"}})})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"\u015eifre",className:"form-control",value:a,onChange:this.handleChange,style:{color:"#F0FDFF",backgroundColor:"#415661"}})})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"col-sm-9",children:Object(C.jsx)("button",{type:"submit",className:"btn-lg btn-block ",style:{color:"#415661",backgroundColor:"#C4C4C4",fontWeight:"bold",borderRadius:"30%"},children:"Giri\u015f yap"})})})]})}),Object(C.jsx)(D.b,{to:"/signUp",children:Object(C.jsx)("h5",{className:"text-center",style:{color:"#F0FDFF"},children:"Yeni misiniz ? \xdcye ol"})})]})}}]),a}(r.Component),P=Object(w.f)(U),A=a(49),E=a.n(A),T=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={displayName:"",userType:"",age:new Date,gender:"",city:"",userPref:{gender:"",petFriendly:""}},e.imageInput=null,e.handleChange=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(h.a)({},r,n))},e.handleSubmit=function(){var t=Object(u.a)(d.a.mark((function t(a){var r,n,c,s,i,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r=e.state,n=r.displayName,c=r.userType,s=r.age,i=r.gender,o=r.city,l=r.userPref,n&&c&&s&&i&&o&&e.userRef.update({displayName:n,userType:c,age:s,gender:i,city:o,userPref:l}),e.file&&(p.ref().child("user-profiles").child(e.uid).child(e.file.name).put(e.file).then((function(e){return e.ref.getDownloadURL()})).then((function(t){return e.userRef.update({photoUrl:t})})),console.log(e.file)),e.setState({displayName:"",userType:"",age:"",gender:"",city:""}),e.props.history.push("/mainPage");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(a,[{key:"uid",get:function(){return N.currentUser.uid}},{key:"userRef",get:function(){return b.doc("users/".concat(this.uid))}},{key:"file",get:function(){return this.imageInput&&this.imageInput.files[0]}},{key:"render",value:function(){var e=this,t=this.state,a=t.displayName,r=t.age,n=t.city;return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h2",{className:"text-center",style:{color:"#54799B"},children:"Profil Olu\u015ftur"}),Object(C.jsxs)("div",{className:"col-xs-12",children:[Object(C.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/pp.png?alt=media&token=4eafa993-6c58-4815-b680-32e59252e7fd",className:"rounded mx-auto d-block rounded-circle",alt:"Custom",height:"200",width:"200"}),Object(C.jsx)("div",{className:"row justify-content-center mt-2 ml-5",children:Object(C.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"col-xs-3 form-group",children:Object(C.jsx)("input",{type:"file",ref:function(t){return e.imageInput=t}})}),Object(C.jsx)("div",{className:"col-xs-3 mt-2 form-group",children:Object(C.jsx)("input",{placeholder:"\u0130sim",value:a,name:"displayName",onChange:this.handleChange,style:{color:"#F0FDFF",backgroundColor:"#415661",fontWeight:"bold"}})}),Object(C.jsx)("div",{className:"col-xs-3 mt-2 form-group",children:Object(C.jsx)("input",{placeholder:"\u015eehir",value:n,name:"city",onChange:this.handleChange,style:{color:"#F0FDFF",backgroundColor:"#415661",fontWeight:"bold"}})}),Object(C.jsx)("div",{className:"col-xs-3 mt-2 form-group",children:Object(C.jsx)(E.a,{name:"age",calendarAriaLabel:"Toggle calendar",clearAriaLabel:"Clear value",dayAriaLabel:"Day",monthAriaLabel:"Month",nativeInputAriaLabel:"Date",onChange:function(t){return e.handleChange({target:{value:t,name:"age"}})},value:r,yearAriaLabel:"Year"})}),Object(C.jsxs)("div",{className:"col-xs-3 mt-2 form-group",children:[Object(C.jsx)("h3",{children:"Cinsiyetiniz"}),Object(C.jsx)("div",{className:"col-xs-3",children:Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsxs)("button",{name:"gender",value:"female",onClick:this.handleChange,type:"button",style:{backgroundColor:"transparent",backgroundRepeat:"none",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},children:[Object(C.jsx)("img",{value:"female",width:"50",height:"50",alt:"female",src:"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/female.png?alt=media&token=7e89af78-9ddc-4695-9d47-cc4f3171391e"}),"Kad\u0131n"]}),Object(C.jsxs)("button",{name:"gender",value:"male",onClick:this.handleChange,type:"button",style:{backgroundColor:"transparent",backgroundRepeat:"none",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},children:[Object(C.jsx)("img",{value:"male",className:"ml-5",width:"50",height:"50",alt:"male",src:"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/male.png?alt=media&token=06d58198-dd53-4dc3-a68d-c8cd8e36498a"}),"Erkek"]})]})})]}),Object(C.jsxs)("div",{className:"col-xs-3 mt-2 form-group",children:[Object(C.jsx)("h3",{children:"\xdcye t\xfcr\xfcn\xfcz"}),Object(C.jsx)("div",{className:"col-xs-3",children:Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsxs)("button",{name:"userType",value:"traveler",onClick:this.handleChange,type:"button",style:{backgroundColor:"transparent",backgroundRepeat:"none",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},children:[Object(C.jsx)("img",{width:"50",height:"50",alt:"traveler",src:"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/traveler.png?alt=media&token=d87568e9-1afd-44c9-8e3d-7fd1c60c6039"}),"Gezgin"]}),Object(C.jsxs)("button",{name:"userType",value:"host",onClick:this.handleChange,type:"button",style:{backgroundColor:"transparent",backgroundRepeat:"none",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},children:[Object(C.jsx)("img",{className:"ml-5",width:"50",height:"50",alt:"host",src:"https://firebasestorage.googleapis.com/v0/b/tripper-d14cc.appspot.com/o/host.png?alt=media&token=9009ceb9-7634-4496-bede-b74e70bd48ea"}),"Ev sahibi"]})]})}),Object(C.jsx)("button",{type:"submit",className:"btn-lg btn-block",style:{color:"#415661",backgroundColor:"#C4C4C4",fontWeight:"bold",borderRadius:"20%"},children:"Profil Olu\u015ftur"})]})]})})]})]})}}]),a}(r.Component),z=Object(w.f)(T),I=a(16),M=a(50),L=a.n(M),R=function(e){var t=e.signOut;return Object(C.jsxs)("header",{children:[Object(C.jsxs)("div",{className:"row justify-content-center ",children:[Object(C.jsx)("h2",{children:"Tripper"}),Object(C.jsx)(D.b,{to:"/",onClick:t,className:"mt-2 ml-5",children:Object(C.jsx)("i",{className:"fas fa-2x fa-sign-out-alt"})})]}),Object(C.jsx)("div",{className:" justify-content-center",children:Object(C.jsxs)("nav",{className:"d-flex justify-content-between",children:[Object(C.jsx)(D.b,{to:"/mainPage",children:Object(C.jsx)("i",{className:"fas fa-search fa-2x"})}),Object(C.jsx)(D.b,{to:"/matches",children:Object(C.jsx)("i",{className:"fas fa-user-friends fa-2x"})}),Object(C.jsx)(D.b,{to:"/messages",children:Object(C.jsx)("i",{className:"fas fa-envelope fa-2x"})})]})})]})},H=(a(82),Object(r.createContext)({user:null})),W=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={user:null},e.unsubscribeFromAuth=null,e.componentDidMount=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.unsubscribeFromAuth=N.onAuthStateChanged(function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,f(a);case 3:t.sent.onSnapshot((function(t){e.setState({user:Object(j.a)({uid:t.id},t.data())})}));case 5:e.setState({user:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e.componentWillUnmount=function(){e.unsubscribeFromAuth()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.user,t=this.props.children;return Object(C.jsx)(H.Provider,{value:e,children:t})}}]),a}(r.Component),$=a(52);var B=function(e){var t=Object(r.useState)(),a=Object(I.a)(t,2),n=(a[0],a[1]),c=Object(r.useState)(!1),s=Object(I.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)([]),h=Object(I.a)(l,2),m=h[0],p=h[1],f=Object(r.useContext)(H),x=Object(r.useState)({gender:"",petFriendly:""}),g=Object(I.a)(x,2),v=g[0],y=g[1],N=function(e){var t=e.age.toDate();return((new Date-t)/31536e6).toFixed(0)},w=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$.a.firestore().collection("users");case 4:t=e.sent,a=t.doc(f.uid).collection("userLiked"),r=[],a.get().then((function(e){e.forEach((function(e){r.push(Object(j.a)({},e.data()))}))})),t.get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(j.a)({id:e.id},e.data()))}));var a=new Set(r.map((function(e){return e.user1}))),n=t.filter((function(e){return!a.has(e.id)}));p(n||[])}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){w()}),[f]);var F=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"empty"!==v.gender&&"empty"!==v.petFriendly?(b.doc("users/".concat(f.uid)).update({userPref:{gender:v.gender,petFriendly:v.petFriendly}}),y({gender:"",petFriendly:""})):alert("L\xfctfen bir tercih yap\u0131n\u0131z.");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a,r){"right"===e&&O(f.uid,t,f.photoUrl,a,r,f.displayName),n(e)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{signOut:k}),m.length?i?Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"E\u015fle\u015fme tercihinizi ayarlay\u0131n."}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsxs)("form",{onSubmit:function(e){return F(e)},children:[Object(C.jsx)("label",{children:"Cinsiyet tercihi :"}),Object(C.jsxs)("select",{className:"form-select",onChange:function(e){return y(Object(j.a)(Object(j.a)({},v),{},{gender:e.currentTarget.value}))},children:[Object(C.jsx)("option",{value:"empty",children:" "}),Object(C.jsx)("option",{value:"male",children:"Erkek"}),Object(C.jsx)("option",{value:"female",children:"Kad\u0131n"})]}),Object(C.jsx)("label",{children:"Evcil Hayvan Dostu :"}),Object(C.jsxs)("select",{className:"form-select",onChange:function(e){return y(Object(j.a)(Object(j.a)({},v),{},{petFriendly:e.currentTarget.value}))},children:[Object(C.jsx)("option",{value:"empty",children:" "}),Object(C.jsx)("option",{value:"yes",children:"Evet"}),Object(C.jsx)("option",{value:"no",children:"Hay\u0131r"})]}),Object(C.jsx)("button",{type:"submit",children:"Ayarla"})]})})]}):Object(C.jsx)("div",{className:"cardContainer justify-content-center",children:m.filter((function(e){if(f.city===e.city&&f.userType!==e.userType&&f.userPref.gender===e.gender&&f.userPref.petFriendly===e.userPref.petFriendly)return e})).map((function(e){return Object(C.jsx)(L.a,{style:{position:"absolute"},className:"swipe",onSwipe:function(t){return S(t,e.id,e.photoUrl,e.displayName)},onCardLeftScreen:function(){return t=e.displayName,void console.log(t+" left the screen!");var t},children:Object(C.jsxs)("div",{className:"card",style:{backgroundImage:"url("+e.photoUrl+")"},children:[Object(C.jsxs)("div",{className:"card-block-1",children:["male"===e.gender?Object(C.jsx)("i",{className:"fas fa-mars fa-2x"}):Object(C.jsx)("i",{className:"fas fa-venus fa-2x"}),Object(C.jsxs)("h3",{children:[e.displayName,",",N(e)]})]}),Object(C.jsxs)("div",{className:"card-block-2",children:[Object(C.jsx)("i",{className:"fas fa-map-marker-alt fa-2x"}),Object(C.jsx)("h3",{children:e.city})]})]})},e.id)}))}):Object(C.jsx)("h1",{children:"LOADING"}),Object(C.jsx)("button",{onClick:function(){return o(!i)},className:"btn btn-danger btn-sm",children:"E\u015fle\u015fme Se\xe7enekleri"})]})};var K=function(e){var t=Object(r.useContext)(H),a=Object(r.useState)([]),n=Object(I.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)([]),o=Object(I.a)(i,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){g(t.uid).then((function(e){return s(e)})),v(t.uid).then((function(e){return d(e)}))}),[t.uid]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{signOut:k}),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("h2",{children:"E\u015fle\u015fmelerim"}),Object(C.jsx)("div",{className:"col-md-12 text-left d-flex justify-content-between flex-wrap",children:c.map((function(e){return e.data.user===t.uid?Object(C.jsx)("img",{className:"profile-img-card",src:e.data.likedUserPhotoUrl,style:{width:"105px"},alt:"match img"},e.id):Object(C.jsx)("img",{className:"profile-img-card",src:e.data.userPhotoUrl,style:{width:"105px"},alt:"match img"},e.id)}))}),Object(C.jsx)("h2",{children:"Bekleyen e\u015fle\u015fmeler"}),Object(C.jsx)("div",{className:"col-md-12 text-left d-flex justify-content-between flex-wrap",children:l.map((function(e){return Object(C.jsx)("img",{className:"profile-img-card",src:e.data.userPhotoUrl,style:{width:"105px"},alt:"match img"},e.id)}))})]})})]})};var G=function(e){var t=Object(r.useContext)(H),a=Object(r.useState)([]),n=Object(I.a)(a,2),c=n[0],s=n[1],i=[],o=[];return Object(r.useEffect)((function(){g(t.uid).then((function(e){e.forEach((function(e){e.data.user===t.uid?i.push({id:e.id,matchedUser:e.data.user1,matchedUserPhotoUrl:e.data.likedUserPhotoUrl,likedUserName:e.data.likedUserName}):o.push({id:e.id,matchedUser:e.data.user,matchedUserPhotoUrl:e.data.userPhotoUrl,likedUserName:e.data.currUserName})}));var a=[].concat(i,o);s(a)}))}),[t.uid]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{signOut:k}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-12 pt-5 d-flex",children:c.map((function(e){return Object(C.jsx)(D.b,{to:"messages/".concat(e.id),children:Object(C.jsx)("div",{className:"list-group-item-action border-0",children:Object(C.jsxs)("div",{className:"d-flex align-items-start",children:[Object(C.jsx)("img",{src:e.matchedUserPhotoUrl,className:"rounded-circle img-fluid",alt:e.likedUserName,width:"100",height:"120"}),Object(C.jsxs)("div",{className:"chat-details",children:[Object(C.jsx)("h4",{style:{color:"black"},children:e.likedUserName}),Object(C.jsx)("div",{className:"medium ml-3",children:"Chat ekran\u0131 ac\u0131k!"})]})]},e.id)},e.id)},e.id)}))})})})]})},Y=a(51);Date.prototype.toTurkishFormatDate=function(e){var t=this,a=t.getDate(),r=t.getDay(),n=t.getMonth(),c=t.getFullYear(),s=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),l=new Array("Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"),d=new Array("Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi");return e||(e="dd.MM.yyyy"),(e=(e=e.replace("mm",n.toString().padStart(2,"0"))).replace("MM",l[n])).indexOf("yyyy")>-1?e=e.replace("yyyy",c.toString()):e.indexOf("yy")>-1&&(e=e.replace("yy",c.toString().substr(2,2))),(e=(e=e.replace("dd",a.toString().padStart(2,"0"))).replace("DD",d[r])).indexOf("HH")>-1&&(e=e.replace("HH",s.toString().replace(/^(\d)$/,"0$1"))),e.indexOf("hh")>-1&&(s>12&&(s-=12),0===s&&(s=12),e=e.replace("hh",s.toString().replace(/^(\d)$/,"0$1"))),e.indexOf("ii")>-1&&(e=e.replace("ii",i.toString().replace(/^(\d)$/,"0$1"))),e.indexOf("ss")>-1&&(e=e.replace("ss",o.toString().replace(/^(\d)$/,"0$1"))),e};var J=Object(w.f)((function(e){var t=e.match.params.id,a=Object(r.useContext)(H),n=b.collection("matches").doc(t).collection("messages"),c=Object(r.useMemo)((function(){return b.collection("matches").doc(t).collection("messages").orderBy("createdAt").limit(25)}),[t]),s=Object(Y.a)(c,{idField:"id"}),i=Object(I.a)(s,1)[0],o=Object(r.useState)(""),l=Object(I.a)(o,2),h=l[0],j=l[1],m=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=a.uid,c=a.photoUrl,s=a.displayName,n.add({text:h,createdAt:new Date,senderId:r,senderPhotoUrl:c,senderDisplayName:s}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)})),j("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(i),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{signOut:k}),Object(C.jsx)("div",{className:"container py-5 px-4",children:Object(C.jsx)("div",{className:"row rounded-lg overflow-hidden shadow",children:Object(C.jsxs)("div",{className:"col-12 px-0",children:[Object(C.jsx)("div",{className:"px-4 py-5 chat-box bg-white",children:Object(C.jsx)("div",{className:"col-12",children:i&&i.map((function(e){return e.senderId!==a.uid?Object(C.jsxs)("div",{className:"media w-50 mb-1",children:[Object(C.jsx)("img",{src:e.senderPhotoUrl,alt:e.senderDisplayName,width:"70",height:"70",className:"rounded-circle"}),Object(C.jsxs)("div",{className:"media-body ml-3",children:[Object(C.jsxs)("div",{className:"bg-light rounded py-2 px-3 mb-2",children:[Object(C.jsx)("h5",{style:{color:"black"},children:e.senderDisplayName}),Object(C.jsx)("p",{className:"text-small mb-0 text-muted",children:e.text},e.id)]}),Object(C.jsxs)("p",{className:"small text-muted",children:[e.createdAt.toDate().toTurkishFormatDate("dd MM yyyy"),Object(C.jsx)("span",{children:"\xa0\xa0"}),e.createdAt.toDate().toLocaleTimeString("tr-TR")]})]})]},e.id):Object(C.jsx)("div",{className:"col-8",children:Object(C.jsx)("div",{className:"media w-500 ml-auto mb-3",children:Object(C.jsxs)("div",{className:"media-body",children:[Object(C.jsxs)("div",{className:"bg-primary rounded py-2 px-3 mb-2",children:[Object(C.jsx)("h5",{children:e.senderDisplayName}),Object(C.jsx)("p",{className:"text-small mb-0 text-white",children:e.text},e.id)]}),Object(C.jsxs)("p",{className:"small text-muted",children:[e.createdAt.toDate().toTurkishFormatDate("dd MM yyyy"),Object(C.jsx)("span",{children:"\xa0\xa0"}),e.createdAt.toDate().toLocaleTimeString("tr-TR")]})]})})},e.id)}))})}),Object(C.jsx)("form",{onSubmit:m,className:"bg-light",children:Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("input",{value:h,onChange:function(e){return j(e.target.value)},type:"text",placeholder:"Type a message","aria-describedby":"button-addon2",className:"form-control rounded-0 border-0 py-4 bg-light"}),Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("button",{id:"button-addon2",type:"submit",className:"btn btn-link",children:Object(C.jsx)("i",{className:"fa fa-paper-plane"})})})]})})]})})})]})})),V=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(C.jsx)("main",{className:"container",children:Object(C.jsxs)(w.c,{children:[Object(C.jsx)(w.a,{exact:!0,path:"/",component:P}),Object(C.jsx)(w.a,{exact:!0,path:"/signUp",component:S}),Object(C.jsx)(w.a,{exact:!0,path:"/createProfile",component:z}),Object(C.jsx)(w.a,{exact:!0,path:"/mainPage",component:B}),Object(C.jsx)(w.a,{exact:!0,path:"/matches",component:K}),Object(C.jsx)(w.a,{exact:!0,path:"/messages",component:G}),Object(C.jsx)(w.a,{exact:!0,path:"/messages/:id",component:J})]})})}}]),a}(r.Component);Object(n.render)(Object(C.jsx)(W,{children:Object(C.jsx)(D.a,{children:Object(C.jsx)(V,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.be3b5f4e.chunk.js.map